// =============== MAZE DATA - OPTIMIZED VERSION ===============
// Enhanced maze maps with better gameplay variety and challenges

export const mazeMaps = [
  // Level 1 - Beginner (Simple maze)
  [
    '111111111111111111111111111111',
    '100000000000000000000000000001',
    '101110111011101110111011101101',
    '100R00100010001000100010001001',
    '111011101110111011101110111011',
    '100000000000000000000000000001',
    '101110111011101110111011101101',
    '100010001000R00100010001000101',
    '111011101110111011101110111011',
    '100000000000000000000000000001',
    '101110111011101110111011101101',
    '100010001000100T00010001000101',
    '111011101110111011101110111011',
    '100000000000000000000000000001',
    '101110111011101110111011101101',
    '100010001000100010001R001000101',
    '111011101110111011101110111011',
    '100000000000000000000000000001',
    '101110111011101110111011101101',
    '100010001000100010001000100T01',
    '111011101110111011101110111011',
    '100000000000000000000000000001',
    '101110111011101110111011101101',
    '100010001000100010001000100001',
    '111011101110111011101110111011',
    '100000000000000000000000000001',
    '101110111011101110111011101101',
    '100010001000100010001000100001',
    '111111111111111111111111111101',
    '111111111111111111111111111111',
  ],

  // Level 2 - Intermediate (More complex)
  [
    '111111111111111111111111111111111111111111111111',
    '100000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111101',
    '100R001000100010001000100010001000100010001000101',
    '1110111011101110111011101110111011101110111011101',
    '100000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111101',
    '100010001000R001000100010001000100010001000100101',
    '1110111011101110111011101110111011101110111011101',
    '100000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111101',
    '100010001000100T000100010001000100010001000100101',
    '1110111011101110111011101110111011101110111011101',
    '100000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111101',
    '100010001000100010001R001000100010001000100100101',
    '1110111011101110111011101110111011101110111011101',
    '100000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111101',
    '100010001000100010001000100T000100010001000100101',
    '1110111011101110111011101110111011101110111011101',
    '100000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111101',
    '100010001000100010001000100010001R001000100100101',
    '1110111011101110111011101110111011101110111011101',
    '100000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111101',
    '100010001000100010001000100010001000100T000100101',
    '1110111011101110111011101110111011101110111011101',
    '100000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111101',
    '100010001000100010001000100010001000100010001000101',
    '111111111111111111111111111111111111111111111111',
  ],

  // Level 3 - Advanced (Complex maze with many rewards)
  [
    '111111111111111111111111111111111111111111111111111111111111111111',
    '100000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101101',
    '100R00100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001001',
    '111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101101',
    '100010001000R00100010001000100010001000100010001000100010001000100010001000100010001000100010001000101',
    '111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101101',
    '100010001000100T00010001000100010001000100010001000100010001000100010001000100010001000100010001000101',
    '111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101101',
    '100010001000100010001R001000100010001000100010001000100010001000100010001000100010001000100010001000101',
    '111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101101',
    '100010001000100010001000100T00010001000100010001000100010001000100010001000100010001000100010001000101',
    '111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101101',
    '100010001000100010001000100010001R001000100010001000100010001000100010001000100010001000100010001000101',
    '111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101101',
    '100010001000100010001000100010001000100T00010001000100010001000100010001000100010001000100010001000101',
    '111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101101',
    '100010001000100010001000100010001000100010001R001000100010001000100010001000100010001000100010001000101',
    '111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101101',
    '100010001000100010001000100010001000100T00010001000100010001000100010001000100010001000100010001000101',
    '111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101101',
    '10001000100010001000100010001000100010001000100010001000100010000100010001000100010001000100010001000101',
    '111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111',
  ],

  // Level 4 - Expert (Very challenging)
  [
    '111111111111111111111111111111111111111111111111111111111111111111111111111111111111',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111101',
    '100R001000100010001000100010001000100010001000100010001000100010001000100010001000101',
    '1110111011101110111011101110111011101110111011101110111011101110111011101110111011101',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111101',
    '100010001000R001000100010001000100010001000100010001000100010001000100010001000100101',
    '1110111011101110111011101110111011101110111011101110111011101110111011101110111011101',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111101',
    '100010001000100T000100010001000100010001000100010001000100010001000100010001000100101',
    '1110111011101110111011101110111011101110111011101110111011101110111011101110111011101',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111101',
    '100010001000100010001R001000100010001000100010001000100010001000100010001000100100101',
    '1110111011101110111011101110111011101110111011101110111011101110111011101110111011101',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111101',
    '100010001000100010001000100T000100010001000100010001000100010001000100010001000100101',
    '1110111011101110111011101110111011101110111011101110111011101110111011101110111011101',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111101',
    '100010001000100010001000100010001R001000100010001000100010001000100010001000100100101',
    '1110111011101110111011101110111011101110111011101110111011101110111011101110111011101',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111101',
    '100010001000100010001000100010001000100T000100010001000100010001000100010001000100101',
    '1110111011101110111011101110111011101110111011101110111011101110111011101110111011101',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111101',
    '100010001000100010001000100010001000100010001000100010001000100001000100010001000100101',
    '111111111111111111111111111111111111111111111111111111111111111111111111111111111111',
  ],

  // Level 5 - Master (Ultimate challenge)
  [
    '111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101101',
    '100R00100010001000100010001000100010001000100010001000100010001000100010001000100010001000100010001001',
    '111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101101',
    '100010001000R00100010001000100010001000100010001000100010001000100010001000100010001000100010001000101',
    '111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101101',
    '100010001000100T00010001000100010001000100010001000100010001000100010001000100010001000100010001000101',
    '111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101101',
    '100010001000100010001R001000100010001000100010001000100010001000100010001000100010001000100010001000101',
    '111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101101',
    '100010001000100010001000100T00010001000100010001000100010001000100010001000100010001000100010001000101',
    '111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101101',
    '10001000100010001000100010001000100010001000100010001000100010000100010001000100010001000100010001000101',
    '111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101101',
    '100010001000100010001000100010001000100T00010001000100010001000100010001000100010001000100010001000101',
    '111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011',
    '100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001',
    '101110111011101110111011101110111011101110111011101110111011101110111011101110111011101110111011101101',
    '10001000100010001000100010001000100010001000100010001000100010000100010001000100010001000100010001000101',
    '111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111',
  ],
];

// =============== MAZE CONFIGURATION ===============
export const mazeConfig = {
  // Tile types
  WALL: '1',
  PATH: ' ',
  REWARD: 'R',
  TRAP: 'T',
  START: 'S',
  END: 'E',

  // Level settings
  levelSettings: [
    { timeLimit: 120, rewardValue: 10, trapDamage: 1 }, // Level 1
    { timeLimit: 150, rewardValue: 15, trapDamage: 1 }, // Level 2
    { timeLimit: 180, rewardValue: 20, trapDamage: 2 }, // Level 3
    { timeLimit: 200, rewardValue: 25, trapDamage: 2 }, // Level 4
    { timeLimit: 240, rewardValue: 30, trapDamage: 3 }, // Level 5
  ],

  // Difficulty multipliers
  difficultyMultipliers: {
    easy: 1.0,
    normal: 1.2,
    hard: 1.5,
    expert: 2.0,
  },
};

// =============== MAZE UTILITIES ===============
export class MazeUtils {
  // Get maze dimensions
  static getMazeDimensions(mazeMap) {
    if (!mazeMap || mazeMap.length === 0) {
      return { width: 0, height: 0 };
    }
    return {
      width: mazeMap[0].length,
      height: mazeMap.length,
    };
  }

  // Count rewards in maze
  static countRewards(mazeMap) {
    if (!mazeMap) {
      return 0;
    }
    return mazeMap.flat().filter(tile => tile === 'R').length;
  }

  // Count traps in maze
  static countTraps(mazeMap) {
    if (!mazeMap) {
      return 0;
    }
    return mazeMap.flat().filter(tile => tile === 'T').length;
  }

  // Validate maze structure
  static validateMaze(mazeMap) {
    if (!mazeMap || mazeMap.length === 0) {
      return false;
    }

    const firstRowLength = mazeMap[0].length;
    return mazeMap.every(row => row.length === firstRowLength);
  }

  // Get start position (always 1,1)
  static getStartPosition() {
    return { x: 1, z: 1 };
  }

  // Get end position (bottom-right corner)
  static getEndPosition(mazeMap) {
    if (!mazeMap || mazeMap.length === 0) {
      return { x: 0, z: 0 };
    }
    return {
      x: mazeMap[0].length - 2,
      z: mazeMap.length - 2,
    };
  }

  // Check if position is valid (within bounds and not a wall)
  static isValidPosition(mazeMap, x, z) {
    if (
      !mazeMap ||
      z < 0 ||
      z >= mazeMap.length ||
      x < 0 ||
      x >= mazeMap[0].length
    ) {
      return false;
    }
    return mazeMap[z][x] !== '1';
  }

  // Get all reward positions
  static getRewardPositions(mazeMap) {
    const positions = [];
    if (!mazeMap) {
      return positions;
    }

    for (let z = 0; z < mazeMap.length; z++) {
      for (let x = 0; x < mazeMap[z].length; x++) {
        if (mazeMap[z][x] === 'R') {
          positions.push({ x, z });
        }
      }
    }
    return positions;
  }

  // Get all trap positions
  static getTrapPositions(mazeMap) {
    const positions = [];
    if (!mazeMap) {
      return positions;
    }

    for (let z = 0; z < mazeMap.length; z++) {
      for (let x = 0; x < mazeMap[z].length; x++) {
        if (mazeMap[z][x] === 'T') {
          positions.push({ x, z });
        }
      }
    }
    return positions;
  }
}
